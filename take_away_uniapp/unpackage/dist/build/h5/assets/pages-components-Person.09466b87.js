import{o as t,c as e,w as i,I as s,D as o,E as a,k as n,l,J as r,q as d,p as c,n as u,O as h,M as p,Q as m,r as f,e as g,m as y,T as b,B as w,U as k,K as _,V as x,N as S,P as B,z as T,A as C,R as I}from"../vendor.69e0273a.js";import{r as v,_ as $}from"../uni-app.es.3ef08382.js";import{_ as A}from"../Address.98715c14.js";import"../provinceData.d60c526a.js";const M={name:"UniBadge",emits:["click"],props:{type:{type:String,default:"default"},inverted:{type:Boolean,default:!1},isDot:{type:Boolean,default:!1},maxNum:{type:Number,default:99},absolute:{type:String,default:""},offset:{type:Array,default:()=>[0,0]},text:{type:[String,Number],default:""},size:{type:String,default:"normal"},customStyle:{type:Object,default:()=>({})}},data:()=>({}),computed:{width(){return 8*String(this.text).length+12},classNames(){const{inverted:t,type:e,size:i,absolute:s}=this;return[t?"uni-badge--"+e+"-inverted":"","uni-badge--"+e,"uni-badge--"+i,s?"uni-badge--absolute":""]},positionStyle(){if(!this.absolute)return{};let t=this.width/2,e=10;this.isDot&&(t=5,e=5);const i=`${-t+this.offset[0]}px`,s=`${-e+this.offset[1]}px`,o={rightTop:{right:i,top:s},rightBottom:{right:i,bottom:s},leftBottom:{left:i,bottom:s},leftTop:{left:i,top:s}},a=o[this.absolute];return a||o.rightTop},badgeWidth(){return{width:`${this.width}px`}},dotStyle(){return this.isDot?{width:"10px",height:"10px",borderRadius:"10px"}:{}},displayValue(){const{isDot:t,text:e,maxNum:i}=this;return t?"":Number(e)>i?`${i}+`:e}},methods:{onClick(){this.$emit("click")}}};M.render=function(u,h,p,m,f,g){const y=d,b=c;return t(),e(b,{class:"uni-badge--x"},{default:i((()=>[s(u.$slots,"default",{},void 0,!0),p.text?(t(),e(y,{key:0,class:o([g.classNames,"uni-badge"]),style:a([g.badgeWidth,g.positionStyle,p.customStyle,g.dotStyle]),onClick:h[0]||(h[0]=t=>g.onClick())},{default:i((()=>[n(l(g.displayValue),1)])),_:1},8,["class","style"])):r("",!0)])),_:3})},M.__scopeId="data-v-5ddf6b8e";const L={name:"UniListItem",emits:["click","switchChange"],props:{direction:{type:String,default:"row"},title:{type:String,default:""},note:{type:String,default:""},ellipsis:{type:[Number],default:0},disabled:{type:[Boolean,String],default:!1},clickable:{type:Boolean,default:!1},showArrow:{type:[Boolean,String],default:!1},link:{type:[Boolean,String],default:!1},to:{type:String,default:""},showBadge:{type:[Boolean,String],default:!1},showSwitch:{type:[Boolean,String],default:!1},switchChecked:{type:[Boolean,String],default:!1},badgeText:{type:String,default:""},badgeType:{type:String,default:"success"},rightText:{type:String,default:""},thumb:{type:String,default:""},thumbSize:{type:String,default:"base"},showExtraIcon:{type:[Boolean,String],default:!1},extraIcon:{type:Object,default:()=>({type:"contact",color:"#000000",size:20})},border:{type:Boolean,default:!0}},data:()=>({isFirstChild:!1}),mounted(){this.list=this.getForm(),this.list&&(this.list.firstChildAppend||(this.list.firstChildAppend=!0,this.isFirstChild=!0))},methods:{getForm(t="uniList"){let e=this.$parent,i=e.$options.name;for(;i!==t;){if(e=e.$parent,!e)return!1;i=e.$options.name}return e},onClick(){""===this.to?(this.clickable||this.link)&&this.$emit("click",{data:{}}):this.openPage()},onSwitchChange(t){this.$emit("switchChange",t.detail)},openPage(){-1!==["navigateTo","redirectTo","reLaunch","switchTab"].indexOf(this.link)?this.pageApi(this.link):this.pageApi("navigateTo")},pageApi(t){let e={url:this.to,success:t=>{this.$emit("click",{data:t})},fail:t=>{this.$emit("click",{data:t})}};switch(t){case"navigateTo":u(e);break;case"redirectTo":m(e);break;case"reLaunch":p(e);break;case"switchTab":h(e);break;default:u(e)}}}};L.render=function(a,u,h,p,m,w){const k=c,_=y,x=v(f("uni-icons"),$),S=d,B=v(f("uni-badge"),M),T=b;return t(),e(k,{class:o([{"uni-list-item--disabled":h.disabled},"uni-list-item"]),"hover-class":!h.clickable&&!h.link||h.disabled||h.showSwitch?"":"uni-list-item--hover",onClick:w.onClick},{default:i((()=>[m.isFirstChild?r("",!0):(t(),e(k,{key:0,class:o(["border--left",{"uni-list--border":h.border}])},null,8,["class"])),g(k,{class:o(["uni-list-item__container",{"container--right":h.showArrow||h.link,"flex--direction":"column"===h.direction}])},{default:i((()=>[s(a.$slots,"header",{},(()=>[g(k,{class:"uni-list-item__header"},{default:i((()=>[h.thumb?(t(),e(k,{key:0,class:"uni-list-item__icon"},{default:i((()=>[g(_,{src:h.thumb,class:o(["uni-list-item__icon-img",["uni-list--"+h.thumbSize]])},null,8,["src","class"])])),_:1})):h.showExtraIcon?(t(),e(k,{key:1,class:"uni-list-item__icon"},{default:i((()=>[g(x,{color:h.extraIcon.color,size:h.extraIcon.size,type:h.extraIcon.type},null,8,["color","size","type"])])),_:1})):r("",!0)])),_:1})]),{}),s(a.$slots,"body",{},(()=>[g(k,{class:o(["uni-list-item__content",{"uni-list-item__content--center":h.thumb||h.showExtraIcon||h.showBadge||h.showSwitch}])},{default:i((()=>[h.title?(t(),e(S,{key:0,class:o(["uni-list-item__content-title",[0!==h.ellipsis&&h.ellipsis<=2?"uni-ellipsis-"+h.ellipsis:""]])},{default:i((()=>[n(l(h.title),1)])),_:1},8,["class"])):r("",!0),h.note?(t(),e(S,{key:1,class:"uni-list-item__content-note"},{default:i((()=>[n(l(h.note),1)])),_:1})):r("",!0)])),_:1},8,["class"])]),{}),s(a.$slots,"footer",{},(()=>[h.rightText||h.showBadge||h.showSwitch?(t(),e(k,{key:0,class:o(["uni-list-item__extra",{"flex--justify":"column"===h.direction}])},{default:i((()=>[h.rightText?(t(),e(S,{key:0,class:"uni-list-item__extra-text"},{default:i((()=>[n(l(h.rightText),1)])),_:1})):r("",!0),h.showBadge?(t(),e(B,{key:1,type:h.badgeType,text:h.badgeText},null,8,["type","text"])):r("",!0),h.showSwitch?(t(),e(T,{key:2,disabled:h.disabled,checked:h.switchChecked,onChange:w.onSwitchChange},null,8,["disabled","checked","onChange"])):r("",!0)])),_:1},8,["class"])):r("",!0)]),{})])),_:3},8,["class"]),h.showArrow||h.link?(t(),e(x,{key:1,size:16,class:"uni-icon-wrapper",color:"#bbb",type:"arrowright"})):r("",!0)])),_:3},8,["class","hover-class","onClick"])},L.__scopeId="data-v-3ca389d1";const q={name:"uniList","mp-weixin":{options:{multipleSlots:!1}},props:{enableBackToTop:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},border:{type:Boolean,default:!0}},created(){this.firstChildAppend=!1},methods:{loadMore(t){this.$emit("scrolltolower")}}};q.render=function(o,a,n,l,d,u){const h=c;return t(),e(h,{class:"uni-list uni-border-top-bottom"},{default:i((()=>[n.border?(t(),e(h,{key:0,class:"uni-list--border-top"})):r("",!0),s(o.$slots,"default",{},void 0,!0),n.border?(t(),e(h,{key:1,class:"uni-list--border-bottom"})):r("",!0)])),_:3})},q.__scopeId="data-v-0460a0b5";let z;const D={name:"Index",data:()=>({position:{longitude:0,latitude:0,city:""}}),methods:{getMyLocation(){new qq.maps.Geolocation("G4MBZ-IGILU-4IDVJ-2BHBM-BWBHJ-3XFWT","myKey").getLocation(this.showPosition,this.showErr)},showPosition(t){console.log(t),this.position.latitude=t.lat,this.position.longitude=t.lng,this.position.city=t.city,this.setMapData()},showErr(){console.log("定位失败，请重试！"),this.getMyLocation()},setMapData(){var t=new qq.maps.LatLng(this.position.latitude,this.position.longitude),e={zoom:16,center:t,mapTypeId:qq.maps.MapTypeId.ROADMAP};z=new qq.maps.Map(document.getElementById("container"),e),new qq.maps.Marker({position:t,map:z,draggable:!0})}},mounted(){this.getMyLocation()}};D.render=function(e,i,s,o,a,n){return t(),w("div",{class:"index"},[k("div",{id:"container"})])},D.__scopeId="data-v-45462002";const N={name:"Person",computed:_(["user"]),components:{test:D,Address:A},methods:{exit:function(){x("userId"),h({url:"../index/index"})}},onShow(){""===S("userId")&&B({content:"是否登录？",success:function(t){t.confirm?m({url:"../login/login"}):t.cancel&&h({url:"../index/index"})}})}};N.render=function(s,o,a,l,r,u){const h=v(f("uni-list-item"),L),p=v(f("uni-list"),q),m=I,y=d,b=C("test"),w=c;return t(),e(w,null,{default:i((()=>[g(p,null,{default:i((()=>[g(h,{title:"优惠券",link:"navigateTo",to:"./Coupons"})])),_:1}),g(m,{type:"default",onClick:u.exit},{default:i((()=>[n("退出登录")])),_:1},8,["onClick"]),g(y,null,{default:i((()=>[n("默认地址")])),_:1}),g(b)])),_:1})},T(N);export default N;
