var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{v as n,y as u,t as c,n as i,u as p,P as d,X as m,O as f,z as g,r as v,o as h,c as b,w as y,e as _,k as j,m as k,p as O,R as w,q as C}from"../vendor.69e0273a.js";import{_ as P}from"../uni-easyinput.4180e833.js";import{r as I}from"../uni-app.es.3ef08382.js";import{_ as V,a as x,b as K}from"../logo.a158c888.js";import{A as R}from"../api.0a8de5c9.js";var T={name:"Login",components:{},setup(){let e=n();const g=u({val1:"",val2:"",val3:null,kaptcha:"http://123.56.43.101:8800/kaptcha/getKaptchaImage"});return v=((e,a)=>{for(var t in a||(a={}))o.call(a,t)&&r(e,t,a[t]);if(l)for(var t of l(a))s.call(a,t)&&r(e,t,a[t]);return e})({},c(g)),a(v,t({toRegister:()=>{i({url:"../register/register"})},login:()=>{let a={nickname:g.val1,password:g.val2,code:g.val3};p({url:R+"/login",method:"POST",data:a,success:a=>{400===a.statusCode?d({content:"用户名或密码错误",showCancel:!1,buttonText:"确定",success:e=>{g.val1="",g.val2="",e.confirm?console.log("用户点击确定"):e.cancel&&console.log("用户点击取消")}}):200===a.statusCode&&(e.commit("setUser",a.data),m("userId",a.data.userId),f({url:"../index/index"}))},fail:e=>{console.log(e)}})},updateKaptcha:()=>{let e=(new Date).getTime();g.kaptcha="http://123.56.43.101:8800/kaptcha/getKaptchaImage?date="+e}}));var v}};T.render=function(e,a,t,l,o,s){const r=k,n=O,u=I(v("uni-easyinput"),P),c=I(v("uni-forms-item"),V),i=I(v("uni-forms"),x),p=w,d=C;return h(),b(n,null,{default:y((()=>[_(n,null,{default:y((()=>[_(r,{style:{width:"100%",height:"100px",background:"#fff"},src:K})])),_:1}),_(n,null,{default:y((()=>[_(i,null,{default:y((()=>[_(c,{label:"用户名"},{default:y((()=>[_(u,{modelValue:e.val1,"onUpdate:modelValue":a[0]||(a[0]=a=>e.val1=a),placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),_(c,{label:"密码"},{default:y((()=>[_(u,{modelValue:e.val2,"onUpdate:modelValue":a[1]||(a[1]=a=>e.val2=a),placeholder:"请输入密码",type:"password"},null,8,["modelValue"])])),_:1})])),_:1}),_(p,{onClick:l.login,type:"primary"},{default:y((()=>[j("登录")])),_:1},8,["onClick"]),_(d,{onClick:l.toRegister,class:"register"},{default:y((()=>[j("尚未注册？点击注册")])),_:1},8,["onClick"])])),_:1})])),_:1})},T.__scopeId="data-v-32fc9ad8",g(T);export default T;
